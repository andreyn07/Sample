@using RestuarantReviews.Helpers
@using RestuarantReviews.Models
@model RestuarantReviews.Core.Restuarant

@{
    ViewBag.Title = "Index";
}

<h2>@Model.Name</h2>

<p>

    @Html.ActionLink("Create New", "Create", new { restuarantId = Model.Id })
</p>
<script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>

@*<div class="panel-body">
    @Html.Partial("_Reviews", Model)
</div>*@
<div class="row">
    <div class="col-sm-6">
        @Html.Action("Review", "RestuarantReviews", new ReviewActionVm{ Type = ReviewActionVm.ReviewDisplayType.Best,
       RestaurantId = Model.Id })
        
    </div>
    <div class="col-sm-6">
        @Html.Action("Review", "RestuarantReviews", new ReviewActionVm{ Type = ReviewActionVm.ReviewDisplayType.Worst,
       RestaurantId = Model.Id })
    </div>
</div>


<br /><br />
      <div class="row">
          <div class="col-sm-12">
              <table class="table">
                  <tr>
                      <th>
                          Reviewer Name
                      </th>
                      <th>
                          Rating
                      </th>
                      <th>
                          Body
                      </th>
                      <th>
                          Restuarant Id
                      </th>
                      <th>
                          Review Date
                      </th>
                      <th></th>
                  </tr>

                  @foreach (var item in Model.Reviews)
                  {
                      <tr>
                          <td>
                              @Html.DisplayFor(modelItem => item.ReviewerName)
                          </td>
                          <td>
                              @Html.Ratings(item.Rating)
                          </td>
                          <td>
                              @Html.DisplayFor(modelItem => item.Body)
                          </td>
                          <td>
                              @Html.DisplayFor(modelItem => item.RestuarantId)
                          </td>
                          <td>
                              @Html.DisplayFor(modelItem => item.ReviewDate)
                          </td>
                          <td>
                              @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                              @Html.ActionLink("Details", "Details", new { id = item.Id }) |
                              @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                          </td>
                      </tr>
                  }

              </table>
          </div>
      </div>